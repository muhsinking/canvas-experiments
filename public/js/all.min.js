window.onload=function(){function t(t){r.x=t.pageX,r.y=t.pageY}function n(){this.speed={x:-2.5+5*Math.random(),y:-15+10*Math.random()},this.location=r.x&&r.y?{x:r.x,y:r.y}:{x:o/2,y:l/2},this.length=8+16*Math.random(),this.life=20+10*Math.random(),this.remaining_life=this.life,this.h=60*Math.random(),this.s=70+30*Math.random()}function e(){a.globalCompositeOperation="source-over",a.fillStyle="#2a2a2a",a.fillRect(0,0,o,l),a.globalCompositeOperation="lighter";for(var t=0;t<h.length;t++){var e=h[t];a.beginPath(),e.opacity=Math.round(e.remaining_life/e.life*100)/100,e.l=Math.round(e.remaining_life/e.life*63);var i=a.createRadialGradient(e.location.x,e.location.y,0,e.location.x,e.location.y,e.length);i.addColorStop(0,"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.opacity+")"),i.addColorStop(.5,"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.opacity+")"),i.addColorStop(1,"hsla("+e.h+", "+e.s+"%, "+e.l+"%, 0)"),a.fillStyle=i,a.rect(e.location.x-e.length/2,e.location.y-e.length/2,e.length,e.length),a.fill(),e.remaining_life=e.remaining_life-3*Math.random(),e.length=e.length-(1+2*Math.random()),e.location.x+=e.speed.x,e.location.y+=e.speed.y,(e.remaining_life<0||e.length<0)&&(h[t]=new n)}}var i=document.getElementById("canvas"),a=i.getContext("2d"),o=window.innerWidth,l=window.innerHeight;i.width=o,i.height=l;for(var h=[],r={},d=80,g=0;d>g;g++)h.push(new n);i.addEventListener("mousemove",t,!1),setInterval(e,33)};